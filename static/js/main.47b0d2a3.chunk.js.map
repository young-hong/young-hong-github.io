{"version":3,"sources":["mock/data.js","pages/User.js","AppMenu.js","Contexts.js","App.js","i18n.js","index.js"],"names":["data","id","name","mobile","email","Column","Item","Search","WrappedComponent","hoc","props","useTranslation","t","i18n","type","onClick","changeLanguage","language","style","margin","display","alignItems","showAddConfirm","placeholder","enterButton","onSearch","width","dataSource","users","title","dataIndex","key","render","text","record","size","showEditConfirm","showDeleteConfirm","destroyOnClose","isEdit","visible","isShowModal","footer","onCancel","handleModalCancel","onFinish","handleModalConfirm","labelAlign","initialValue","_","get","user","rules","required","message","htmlType","withTranslation","confirm","okText","cancelText","onOk","delete","state","filter","setState","storeUsers","values","each","item","Object","assign","last","includes","this","React","Component","withRouter","className","path","UserContext","createContext","OtherContext","AppContext","ProvideAppContext","Consumer","userContext","otherContext","Provider","value","children","me","use","Backend","LanguageDetector","initReactI18next","init","resources","en","translation","zh","lng","fallbackLng","interpolation","escapeValue","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.47b0d2a3.chunk.js","sourcesContent":["const data = [\r\n  {\r\n    id: 1,\r\n    name: '张三1',\r\n    mobile: '13856432456',\r\n    email: 'zhangsan1@email'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '张三2',\r\n    mobile: '14856432456',\r\n    email: 'zhangsan2@email'\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '张三3',\r\n    mobile: '15856432456',\r\n    email: 'zhangsan3@email'\r\n  },\r\n  {\r\n    id: 4,\r\n    name: '张三4',\r\n    mobile: '16856432456',\r\n    email: 'zhangsan4@email'\r\n  },\r\n  {\r\n    id: 5,\r\n    name: '张三5',\r\n    mobile: '17856432456',\r\n    email: 'zhangsan5@email'\r\n  },\r\n  {\r\n    id: 6,\r\n    name: '张三6',\r\n    mobile: '18856432456',\r\n    email: 'zhangsan6@email'\r\n  }\r\n]\r\n\r\nexport default data","import React from 'react';\r\nimport _ from 'lodash';\r\nimport { Table, Space, Modal, Form, Input, Button, Menu  } from 'antd';\r\nimport { useTranslation, withTranslation } from 'react-i18next';\r\n\r\nimport data from '../mock/data';\r\n\r\n\r\nconst { Column } = Table;\r\nconst { Item } = Form;\r\nconst { Search } = Input;\r\n\r\nfunction User(props) {\r\n  const { t, i18n } = useTranslation();\r\n  return (\r\n    <>\r\n      <Button type=\"primary\" onClick={() => i18n.changeLanguage(i18n.language == 'en' ? 'zh': 'en')} style={{ margin: '6px 16px' }}>{t('transform')}</Button>\r\n      <Menu style={{display:'flex', alignItems:'center'}}>\r\n        <Menu.Item>\r\n        <Button onClick={props.showAddConfirm} type=\"primary\">{t('addUser')}</Button>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <Search placeholder=\"请输入用户名/联系方式/邮箱\"  enterButton onSearch={props.onSearch} style={{ width: 400 }}/>\r\n        </Menu.Item>\r\n      </Menu>           \r\n      <Table dataSource={props.users}>\r\n        <Column\r\n          title={t('name')}\r\n          dataIndex={props.users.name}\r\n          key={props.users.name}\r\n          render={(text, record) => (\r\n            <span>{record.name}</span>\r\n          )} />\r\n        <Column\r\n          title={t('mobile')}\r\n          dataIndex={props.users.mobile}\r\n          key={props.users.mobile}\r\n          render={(text, record) => (\r\n            <span>{record.mobile}</span>\r\n          )} />\r\n        <Column\r\n          title={t('email')}\r\n          dataIndex={props.users.email}\r\n          key={props.users.email}\r\n          render={(text, record) => (\r\n            <span>{record.email}</span>\r\n          )} />\r\n        <Column\r\n          title={t('action')}\r\n          key='action'\r\n          render={(text, record) => (\r\n            <Space size=\"middle\">\r\n              <a onClick={() => { props.showEditConfirm(record) }}>{t('edit')}</a>\r\n              <a onClick={() => { props.showDeleteConfirm(record.id) }}>{t('delete')}</a>\r\n            </Space>\r\n          )} />\r\n\r\n      </Table>\r\n      <Modal\r\n        destroyOnClose\r\n        title={props.isEdit ? `${t('editUser')}` : `${t('addUser')}`}\r\n        visible={props.isShowModal}\r\n        footer={false}\r\n        onCancel={props.handleModalCancel}\r\n      >\r\n        <Form\r\n          name={\"editUserModal\"}\r\n          onFinish={props.handleModalConfirm}\r\n        >\r\n          <Item labelAlign='left' name='id' initialValue={_.get(props.user, 'id')} style={{ display: 'none' }}>\r\n            <Input />\r\n          </Item>\r\n          <Item\r\n            labelAlign='left'\r\n            name='name'\r\n            initialValue={_.get(props.user, 'name')}\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: '请输入用户名!',\r\n              },\r\n            ]}>\r\n            <Input placeholder='请输入用户名' />\r\n          </Item>\r\n          <Item\r\n            labelAlign='left'\r\n            name='mobile'\r\n            initialValue={_.get(props.user, 'mobile')}\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: '请输入联系方式!',\r\n              },\r\n            ]}>\r\n            <Input placeholder='请输入联系方式' />\r\n          </Item>\r\n          <Item\r\n            labelAlign='left'\r\n            name='email'\r\n            initialValue={_.get(props.user, 'email')}\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: '请输入邮箱!',\r\n              },\r\n            ]}>\r\n            <Input placeholder='请输入邮箱' />\r\n          </Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" size={'middle'}>\r\n            {t('submit')}\r\n          </Button>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nlet hoc = WrappedComponent => {\r\n  return withTranslation()(class EnhancedComponent extends React.Component {\r\n    get t() { return this.props.t; }\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        users: [],\r\n        isShowModal: false,\r\n        isEdit: true,\r\n        storeUsers:[]\r\n      }\r\n    }\r\n\r\n    async componentDidMount() {\r\n      this.setState({ users: data, storeUsers: data });\r\n    }\r\n\r\n    showDeleteConfirm = (id) => {\r\n      Modal.confirm({\r\n        title: this.t('shouldDeleteUser'),\r\n        okText: this.t('confirm'),\r\n        cancelText: this.t('cancel'),\r\n        onOk: () => {\r\n          this.delete(id)\r\n        }\r\n      });\r\n    }\r\n\r\n    delete = (id) => {\r\n      let { users } = this.state;\r\n      users = _.filter(users, user => user.id !== id);\r\n      this.setState({ users, storeUsers: users });\r\n    }\r\n\r\n    showEditConfirm = (user) => {\r\n      this.setState({ user, isShowModal: true, isEdit: true });\r\n    }\r\n\r\n    handleModalConfirm = (values) => {\r\n      let { storeUsers, isEdit } = this.state;\r\n      if (isEdit) {\r\n        _.each(storeUsers, item => {\r\n          if (item.id === values.id) {\r\n            Object.assign(item, values);\r\n          }\r\n        })\r\n        this.setState({ storeUsers, users: storeUsers, isShowModal: false });\r\n        return;\r\n      }\r\n      values.id = _.last(storeUsers).id + 1;\r\n      storeUsers = [...storeUsers, values];\r\n      this.setState({ storeUsers, users: storeUsers, isShowModal: false });\r\n    }\r\n\r\n    handleModalCancel = () => {\r\n      this.setState({ isShowModal: false });\r\n    }\r\n\r\n    showAddConfirm = () => {\r\n      this.setState({ isEdit: false, isShowModal: true, user: [] });\r\n    }\r\n\r\n    onSearch = (values) => {\r\n      let { users, storeUsers } = this.state;\r\n      if( values ) {\r\n        users = _.filter(storeUsers, item => _.includes(item.name, values) || _.includes(item.email, values) || _.includes(item.mobile, values));\r\n        this.setState({ users });\r\n        return;\r\n      }\r\n      this.setState({ users: storeUsers });    \r\n    }\r\n\r\n    render() {\r\n      return <WrappedComponent\r\n        users={this.state.users}\r\n        user={this.state.user}\r\n        isShowModal={this.state.isShowModal}\r\n        isEdit={this.state.isEdit}\r\n        showDeleteConfirm={(id) => this.showDeleteConfirm(id)}\r\n        showEditConfirm={(user) => this.showEditConfirm(user)}\r\n        handleModalConfirm={this.handleModalConfirm}\r\n        handleModalCancel={this.handleModalCancel}\r\n        showAddConfirm={this.showAddConfirm}\r\n        onSearch={this.onSearch}\r\n      />\r\n    }\r\n\r\n  })\r\n}\r\n\r\nexport default hoc(User);","import React from 'react';\nimport { Switch, Route, withRouter } from 'react-router-dom';\n\nimport User from './pages/User';\n\nfunction AppMenu(props) {\n\treturn (\n\t\t<div className='app-container'>\n\t\t\t<div className='route-wrapper'>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/'>\n\t\t\t\t\t\t<User />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default withRouter(AppMenu);\n","import React, {createContext} from 'react'\r\n\r\nexport const UserContext = React.createContext();// User login context\r\nexport const OtherContext = React.createContext();\r\nexport const AppContext = React.createContext();\r\n\r\nexport const ProvideAppContext = props => {\r\n\treturn (\r\n\t\t<UserContext.Consumer>\r\n\t\t\t{userContext => (\r\n\t\t\t\t<OtherContext.Consumer>\r\n\t\t\t\t\t{otherContext => (\r\n\t\t\t\t\t\t<AppContext.Provider value={{ userContext, otherContext }}>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t</AppContext.Provider>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</OtherContext.Consumer>\r\n\t\t\t)}\r\n\t\t</UserContext.Consumer>\r\n\t);\r\n};","\nimport React from 'react';\nimport AppMenu from './AppMenu';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { UserContext, OtherContext, ProvideAppContext } from './Contexts';\n\nfunction App (props) {\n\treturn (\n\t\t<UserContext.Provider value={{ me: props.me }}>\n\t\t\t<OtherContext.Provider>\n\t\t\t\t<ProvideAppContext>\n\t\t\t\t\t<Router>\n\t\t\t\t\t\t<AppMenu me={props.me} />\n\t\t\t\t\t</Router>\n\t\t\t\t</ProvideAppContext >\n\t\t\t</OtherContext.Provider >\n\t\t</UserContext.Provider >\n\t);\n}\n\n\nlet hoc = WrappedComponent => {\n\treturn class EnhancedComponent extends React.Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tme: null\n\t\t\t};\n\t\t}\n\n\t\trender () {\n\n\t\t\treturn <WrappedComponent\n        me={this.state.me}\n\t\t\t/>\n\t\t}\n\t}\n}\n\nexport default hoc(App);\n","import React, { Component } from 'react'\nimport i18n from 'i18next'\nimport Backend from 'i18next-xhr-backend'\nimport LanguageDetector from 'i18next-browser-languagedetector'\nimport { useTranslation, initReactI18next } from 'react-i18next'\nimport en from './locales/en-US/translation.json'\nimport zh from './locales/zh-CN/translation.json'\n\n\ni18n\n  // load translation using xhr -> see /public/locales\n  // learn more: https://github.com/i18next/i18next-xhr-backend\n  .use(Backend)\n  // detect user language\n  // learn more: https://github.com/i18next/i18next-browser-languageDetector\n  .use(LanguageDetector)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    // the translations\n    // (tip move them in a JSON file and import them)\n    resources: {\n      en:{\n        translation: en\n      },\n      zh:{\n        translation: zh\n      }\n    },\n    lng: 'zh',\n    fallbackLng: 'zh',\n\n    interpolation: {\n      escapeValue: false\n    }\n  });\n\n\nexport default i18n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport App from './App';\nimport './i18n';\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}