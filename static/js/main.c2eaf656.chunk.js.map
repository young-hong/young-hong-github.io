{"version":3,"sources":["mock/data.js","pages/User.js","AppMenu.js","Contexts.js","App.js","index.js"],"names":["data","id","name","mobile","email","Column","Item","Search","WrappedComponent","hoc","props","style","display","alignItems","onClick","showAddConfirm","type","placeholder","enterButton","onSearch","width","dataSource","users","title","dataIndex","key","render","text","record","size","showEditConfirm","showDeleteConfirm","destroyOnClose","isEdit","visible","isShowModal","footer","onCancel","handleModalCancel","onFinish","handleModalConfirm","labelAlign","initialValue","_","get","user","rules","required","message","htmlType","confirm","okText","cancelText","onOk","delete","state","filter","setState","storeUsers","values","each","item","Object","assign","last","includes","this","React","Component","withRouter","className","path","UserContext","createContext","OtherContext","AppContext","ProvideAppContext","Consumer","userContext","otherContext","Provider","value","children","me","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.c2eaf656.chunk.js","sourcesContent":["const data = [\r\n  {\r\n    id: 1,\r\n    name: '张三1',\r\n    mobile: '13856432456',\r\n    email: 'zhangsan1@email'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: '张三2',\r\n    mobile: '14856432456',\r\n    email: 'zhangsan2@email'\r\n  },\r\n  {\r\n    id: 3,\r\n    name: '张三3',\r\n    mobile: '15856432456',\r\n    email: 'zhangsan3@email'\r\n  },\r\n  {\r\n    id: 4,\r\n    name: '张三4',\r\n    mobile: '16856432456',\r\n    email: 'zhangsan4@email'\r\n  },\r\n  {\r\n    id: 5,\r\n    name: '张三5',\r\n    mobile: '17856432456',\r\n    email: 'zhangsan5@email'\r\n  },\r\n  {\r\n    id: 6,\r\n    name: '张三6',\r\n    mobile: '18856432456',\r\n    email: 'zhangsan6@email'\r\n  }\r\n]\r\n\r\nexport default data","import React from 'react';\r\nimport _ from 'lodash';\r\nimport { Table, Space, Modal, Form, Input, Button, Menu  } from 'antd';\r\n\r\nimport data from '../mock/data';\r\n\r\nconst { Column } = Table;\r\nconst { Item } = Form;\r\nconst { Search } = Input;\r\n\r\nfunction User(props) {\r\n  return (\r\n    <>\r\n      <Menu style={{display:'flex', alignItems:'center'}}>\r\n        <Menu.Item>\r\n          <Button onClick={props.showAddConfirm} type=\"primary\">添加用户</Button>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <Search placeholder=\"请输入用户名/联系方式/邮箱\"  enterButton onSearch={props.onSearch} style={{ width: 400 }}/>\r\n        </Menu.Item>\r\n      </Menu>           \r\n      <Table dataSource={props.users}>\r\n        <Column\r\n          title='姓名'\r\n          dataIndex={props.users.name}\r\n          key={props.users.name}\r\n          render={(text, record) => (\r\n            <span>{record.name}</span>\r\n          )} />\r\n        <Column\r\n          title='手机号码'\r\n          dataIndex={props.users.mobile}\r\n          key={props.users.mobile}\r\n          render={(text, record) => (\r\n            <span>{record.mobile}</span>\r\n          )} />\r\n        <Column\r\n          title='邮箱'\r\n          dataIndex={props.users.email}\r\n          key={props.users.email}\r\n          render={(text, record) => (\r\n            <span>{record.email}</span>\r\n          )} />\r\n        <Column\r\n          title='操作'\r\n          key='action'\r\n          render={(text, record) => (\r\n            <Space size=\"middle\">\r\n              <a onClick={() => { props.showEditConfirm(record) }}>编辑</a>\r\n              <a onClick={() => { props.showDeleteConfirm(record.id) }}>删除</a>\r\n            </Space>\r\n          )} />\r\n\r\n      </Table>\r\n      <Modal\r\n        destroyOnClose\r\n        title={props.isEdit ? '编辑用户' : '添加用户'}\r\n        visible={props.isShowModal}\r\n        footer={false}\r\n        onCancel={props.handleModalCancel}\r\n      >\r\n        <Form\r\n          name={\"editUserModal\"}\r\n          onFinish={props.handleModalConfirm}\r\n        >\r\n          <Item labelAlign='left' name='id' initialValue={_.get(props.user, 'id')} style={{ display: 'none' }}>\r\n            <Input />\r\n          </Item>\r\n          <Item\r\n            labelAlign='left'\r\n            name='name'\r\n            initialValue={_.get(props.user, 'name')}\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: '请输入用户名!',\r\n              },\r\n            ]}>\r\n            <Input placeholder='请输入用户名' />\r\n          </Item>\r\n          <Item\r\n            labelAlign='left'\r\n            name='mobile'\r\n            initialValue={_.get(props.user, 'mobile')}\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: '请输入联系方式!',\r\n              },\r\n            ]}>\r\n            <Input placeholder='请输入联系方式' />\r\n          </Item>\r\n          <Item\r\n            labelAlign='left'\r\n            name='email'\r\n            initialValue={_.get(props.user, 'email')}\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: '请输入邮箱!',\r\n              },\r\n            ]}>\r\n            <Input placeholder='请输入邮箱' />\r\n          </Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" size={'middle'}>\r\n            提交\r\n          </Button>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\n\r\nlet hoc = WrappedComponent => {\r\n  return class EnhancedComponent extends React.Component {\r\n    constructor(props) {\r\n      super(props)\r\n      this.state = {\r\n        users: [],\r\n        isShowModal: false,\r\n        isEdit: true,\r\n        storeUsers:[]\r\n      }\r\n    }\r\n\r\n    async componentDidMount() {\r\n      this.setState({ users: data, storeUsers: data });\r\n    }\r\n\r\n    showDeleteConfirm = (id) => {\r\n      Modal.confirm({\r\n        title: '确认删除用户吗',\r\n        okText: '确认',\r\n        cancelText: '取消',\r\n        onOk: () => {\r\n          this.delete(id)\r\n        }\r\n      });\r\n    }\r\n\r\n    delete = (id) => {\r\n      let { users } = this.state;\r\n      users = _.filter(users, user => user.id !== id);\r\n      this.setState({ users, storeUsers: users });\r\n    }\r\n\r\n    showEditConfirm = (user) => {\r\n      this.setState({ user, isShowModal: true, isEdit: true });\r\n    }\r\n\r\n    handleModalConfirm = (values) => {\r\n      let { storeUsers, isEdit } = this.state;\r\n      if (isEdit) {\r\n        _.each(storeUsers, item => {\r\n          if (item.id === values.id) {\r\n            Object.assign(item, values);\r\n          }\r\n        })\r\n        this.setState({ storeUsers, users: storeUsers, isShowModal: false });\r\n        return;\r\n      }\r\n      values.id = _.last(storeUsers).id + 1;\r\n      storeUsers = [...storeUsers, values];\r\n      this.setState({ storeUsers, users: storeUsers, isShowModal: false });\r\n    }\r\n\r\n    handleModalCancel = () => {\r\n      this.setState({ isShowModal: false });\r\n    }\r\n\r\n    showAddConfirm = () => {\r\n      this.setState({ isEdit: false, isShowModal: true, user: [] });\r\n    }\r\n\r\n    onSearch = (values) => {\r\n      let { users, storeUsers } = this.state;\r\n      if( values ) {\r\n        users = _.filter(storeUsers, item => _.includes(item.name, values) || _.includes(item.email, values) || _.includes(item.mobile, values));\r\n        this.setState({ users });\r\n        return;\r\n      }\r\n      this.setState({ users: storeUsers });    \r\n    }\r\n\r\n    render() {\r\n      return <WrappedComponent\r\n        users={this.state.users}\r\n        user={this.state.user}\r\n        isShowModal={this.state.isShowModal}\r\n        isEdit={this.state.isEdit}\r\n        showDeleteConfirm={(id) => this.showDeleteConfirm(id)}\r\n        showEditConfirm={(user) => this.showEditConfirm(user)}\r\n        handleModalConfirm={this.handleModalConfirm}\r\n        handleModalCancel={this.handleModalCancel}\r\n        showAddConfirm={this.showAddConfirm}\r\n        onSearch={this.onSearch}\r\n      />\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport default hoc(User);","import React from 'react';\nimport { Switch, Route, withRouter } from 'react-router-dom';\n\nimport User from './pages/User';\n\nfunction AppMenu(props) {\n\treturn (\n\t\t<div className='app-container'>\n\t\t\t<div className='route-wrapper'>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/'>\n\t\t\t\t\t\t<User />\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default withRouter(AppMenu);\n","import React, {createContext} from 'react'\r\n\r\nexport const UserContext = React.createContext();// User login context\r\nexport const OtherContext = React.createContext();\r\nexport const AppContext = React.createContext();\r\n\r\nexport const ProvideAppContext = props => {\r\n\treturn (\r\n\t\t<UserContext.Consumer>\r\n\t\t\t{userContext => (\r\n\t\t\t\t<OtherContext.Consumer>\r\n\t\t\t\t\t{otherContext => (\r\n\t\t\t\t\t\t<AppContext.Provider value={{ userContext, otherContext }}>\r\n\t\t\t\t\t\t\t{props.children}\r\n\t\t\t\t\t\t</AppContext.Provider>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</OtherContext.Consumer>\r\n\t\t\t)}\r\n\t\t</UserContext.Consumer>\r\n\t);\r\n};","\nimport React from 'react';\nimport AppMenu from './AppMenu';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { UserContext, OtherContext, ProvideAppContext } from './Contexts';\n\nfunction App (props) {\n\treturn (\n\t\t<UserContext.Provider value={{ me: props.me }}>\n\t\t\t<OtherContext.Provider>\n\t\t\t\t<ProvideAppContext>\n\t\t\t\t\t<Router>\n\t\t\t\t\t\t<AppMenu me={props.me} />\n\t\t\t\t\t</Router>\n\t\t\t\t</ProvideAppContext >\n\t\t\t</OtherContext.Provider >\n\t\t</UserContext.Provider >\n\t);\n}\n\n\nlet hoc = WrappedComponent => {\n\treturn class EnhancedComponent extends React.Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.state = {\n\t\t\t\tme: null\n\t\t\t};\n\t\t}\n\n\t\trender () {\n\n\t\t\treturn <WrappedComponent\n        me={this.state.me}\n\t\t\t/>\n\t\t}\n\t}\n}\n\nexport default hoc(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'antd/dist/antd.css';\nimport App from './App';\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}